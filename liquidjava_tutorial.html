<!--
Author: W3layouts
Author URL: http://w3layouts.com
-->
<!doctype html>
<html lang="en">
  <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1929590,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>  
  <head>
    <link rel="icon" type="image/jpg" href="assets/images/iconLJ.png" sizes="228x228" />
    
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Liquid Java</title>
    <!-- web fonts -->
    <link href="//fonts.googleapis.com/css?family=Nunito:400,600,700,800,900&display=swap" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Hind&display=swap" rel="stylesheet">
    <!-- //web fonts -->
    <!-- Template CSS -->
    <link rel="stylesheet" href="assets/css/style-starter.css">
    <link rel="stylesheet" href="assets/css/style-2.css">
  </head>
  <body>

<!-- <section class="w3l-bootstrap-header">
  <nav class="navbar navbar-expand-lg navbar-light py-lg-3 py-2">
    <div class="container">
       <a class="navbar-brand" href="index.html">Catarina Gamboa</a> -->
      <!-- if logo is image enable this   
    <a class="navbar-brand" href="#index.html">
        <img src="image-path" alt="Your logo" title="Your logo" style="height:35px;" />
    </a> -->
      <!-- <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon fa fa-bars"></span>
      </button> -->

      <!-- <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="projects.html">Papers & Projects</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="activities.html">Other Activities</a>
          </li>
        </ul>
      </div> -->
    <!-- </div>
  </nav>
</section>  -->
<!-- <section class="w3l-about-breadcrum">
  <div class="breadcrum-bg">
    <div class="container py-5">
       <p> <br/><!--<a href="index.html">Home</a> &nbsp; / &nbsp; About--></p> 
     </div>
  </div>
</section> 
<!-- w3l-content-photo-5 -->
<section>
  <div class="w3l-content-photo-5 py-5" id="about">
    <div class="content-main pt-lg-5 pt-md-3 pb-0" style='padding-top: 0rem !important;'>
      <div class="container">
        <div style='text-align: right;'>
          <p>Project developed at
          <img src="assets/images/normal.png" alt="Lasige logo" width="150" height="55">
          <img src="assets/images/ciencias_ul_azul_h_s-ass.png" alt="FCUL logo" width="100" height="40">
          <!-- Add lasige and FCUL logo -->
        </p>
        </div>
        <br/><br/><br/>
          <br/><br/>
          <br/>     

        <div class="row">

          <div class="row">
            <div class="col-lg-5 content-photo">
              <a href="#"><img src="assets/images/Liquid2.png" class="img-fluid" alt="content-photo"></a>
            </div>
            <div class="col-lg-7 content-left mt-lg-0 mt-5 pl-lg-5">
              <h3>The Tutorial - <br/>Refinement Types in Java</h3>
              <p class="mb-0">
                <b>Extend your Java code with Refinement Types and catch more bugs!</b><br/>
                Use this tutorial to get to know how to use LiquidJava!
                Proceed as follows in each section:
                </p>
                <ol>
                  <li>Watch the video</li>
                  <li>Answer the Q&A</li>
                  <li>Continue to next video</li>
                  <li>At the end of the page you can ask questions to the interviewer</li>
                  <li>When prepared move to the next step of study</li>
                </ol>
            </div>
          </div>
  <!--------------------------------------------------------------------------------------------->
  <!---- Intro ---->
  <div>
    </br></br>
    <h3 class="title_tutorial">Introduction</h3>
      Learn about what are refinement types and why they can be useful to catch errors. </br></br>
  </div>

  <!---- Row ---->
  <div class="row">
    <div class="col-lg-6 content-photo">
      <div  id='youtube-player-1' 
            data-video="MOZESsOtUAU"
            data-startseconds="0"
            data-endseconds="73"
            data-height="360"
            data-width="520">
      <!-- <iframe class="responsive-iframe" src="https://www.youtube.com/embed/MOZESsOtUAU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
      </div>
      <script src="https://www.youtube.com/iframe_api"></script>
      <script type="text/javascript">
        function onYouTubeIframeAPIReady() {
          var ctrlq = document.getElementById("youtube-player-1");
          var player = new YT.Player('youtube-player-1', {
            height: ctrlq.dataset.height,
            width: ctrlq.dataset.width,
            playerVars: {'rel': 0},
            events: {
              'onReady': function(e) {
                e.target.cueVideoById({
                  videoId: ctrlq.dataset.video,
                  startSeconds: ctrlq.dataset.startseconds,
                  endSeconds: ctrlq.dataset.endseconds
                });
              }
            }
          });

          var ctrlq = document.getElementById("youtube-player-2");
          var player = new YT.Player('youtube-player-2', {
            height: ctrlq.dataset.height,
            width: ctrlq.dataset.width,
            playerVars: {'rel': 0},
            events: {
              'onReady': function(e) {
                e.target.cueVideoById({
                  videoId: ctrlq.dataset.video,
                  startSeconds: ctrlq.dataset.startseconds,
                  endSeconds: ctrlq.dataset.endseconds
                });
              }
            }
          });
          var ctrlq = document.getElementById("youtube-player-3");
          var player = new YT.Player('youtube-player-3', {
            height: ctrlq.dataset.height,
            width: ctrlq.dataset.width,
            playerVars: {'rel': 0},
            events: {
              'onReady': function(e) {
                e.target.cueVideoById({
                  videoId: ctrlq.dataset.video,
                  startSeconds: ctrlq.dataset.startseconds,
                  endSeconds: ctrlq.dataset.endseconds
                });
              }
            }
          });
        }
      </script>
    </div>
    <div class="col-lg-6 content-left mt-lg-0 mt-5 pl-lg-5 q_and_a">
      <h5 class="title_tutorial">Q&A</h5>
      <p>Select what is the assignment that is allowed with the following refinement. </p>
          <!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #a6e22e">@Refinement</span><span style="color: #f92672">(</span><span style="color: #e6db74">&quot;0 <= x && x <= 100&quot;</span><span style="color: #f92672">)</span>
  <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">x</span><span style="color: #f92672">;</span>
  </pre></div>
              <br/>
              A) <button class="answer btn_correct"> x = 90; </button>
              B) <button class="answer btn_wrong"> x = 150; </button>
              C) <button class="answer btn_wrong"> x = -10; </button>

      <div class="wrap-collabsible" >
        <input id="collapsible" class="toggle" type="checkbox">
        <label for="collapsible" class="lbl-toggle">Answer</label>
        <div class="collapsible-content">
          <div class="content-inner">
            The correct answer assigns to x a value between the range 0 and 100. </br>
            Therefore, the correct answer is A). 
          </div>
        </div>
      </div>



    </div>
  </div>

    

    <div>
      <br/><br/>
      <h3 class="title_tutorial">Error Messages</h3>
      <br/>
      <p>If the answer chosen was the third option, the error message shown to the user would be the following:</br></br></p>
<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">Failed to check refinement at: 

x = -10

Type expected:(0 &lt;= #x_1 &amp;&amp; #x_1 &lt;= 100)
Refinement found:<span style="color: #0000ff">true</span> &amp;&amp;#x_1 == (-#fresh_0) &amp;&amp; #fresh_0 == 10

Instance translation table:
------------------------------------------------------------------------------------
| Variable Name           | Created in           | File 
------------------------------------------------------------------------------------
| #x_1                    | x = -10              | File.java:2, 3 
| #fresh_0                | -10                  | File.java:2, 7 
------------------------------------------------------------------------------------

Location: (../File.java:2)
</pre></div>

  <br/>
  <p>The error message can be split into three parts:</p>
  <ol>
    <li>
      <b><span class="title_tutorial">General information about the error</span></b>
      <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">Failed to check refinement at: 
x = -10
</pre></div><br/>
    </li>
    <li>
    <b><span class="title_tutorial">Refinement Found and Type Expected</span></b>
<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">Type expected:(0 &lt;=  #x_1 &amp;&amp;  #x_1 &lt;= 100)
Refinement found:<span style="color: #0000ff">true</span> &amp;&amp; #x_1 == (- #fresh_0) &amp;&amp;  #fresh_0 == 10
</pre></div><br/>
  The type expected refers to the refinement that failed, in this case that x should be given a value between 0 and 100. The names used in variables here are different that the ones used in code because they represent an internal representation of the program. <br/>The translation between these strange names and where they are created in the code, appears in the next part of the message.
  <br/>  <br/>
  </li>
  
  <li>
    <b><span class="title_tutorial">Instance Translation Table</span></b>
<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">Instance translation table:
------------------------------------------------------------------------------------
| Variable Name           | Created in           | File 
------------------------------------------------------------------------------------
|  #x_1                    | x = -10              | File.java:2, 3 
|  #fresh_0                | -10                  | File.java:2, 7 
------------------------------------------------------------------------------------
</pre></div><br/>
With the translation is possible to see that the variable <b><i>#x_1</i></b> refers to the variable <i>x</i> when used in the assignment, and the variable <b><i>#fresh_0</i></b> refers to the value <i>-10</i>. Then the type expected was not verified due to the value assigned to x. This might be easy to reason about in such a simple example, but in more complex cases it is harder to figure out what is the error in the code.
  </li>
  </ol>
</div>

  <!---- Row ---->
  <div class="row q_and_a">
    <div class="col-lg-9 content-photo">
    <h5 class="title_tutorial">Q&A</h5>
    <p>Consider the following error message and select the assignment that produced the error.</p>
<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">Failed to check refinement at: 
  x = 90 - a

  Type expected:(0 &lt;=  #x_2 &amp;&amp;  #x_2 &lt;= 100)
  Refinement found:<span style="color: #0000ff">true</span> &amp;&amp;  #x_2 == (90) -  #a_1 &amp;&amp;  #a_1 ==  #a_0 &amp;&amp;  #a_0 == 100
  
  Instance translation table:
  ----------------------------------------------------------------
  | Variable Name     | Created in             | File 
  ----------------------------------------------------------------
  |  #a_1              | a                      | File.java:2, 13 
  |  #x_2              | x = 90 - a             | File.java:2, 4 
  |  #a_0              | <span style="color: #2b91af">int</span> a = 100            | File.java:1, 7 
  ----------------------------------------------------------------
  
  Location: (../File.java:10)
  </pre></div>
  
    </div>
    <div class="col-lg-3 content-left mt-lg-0 mt-5 pl-lg-5 ">
          A) <button class="answer btn_wrong"> 
            x = 90 - 100; 
            </button></br>
          B) <button class="answer btn_wrong"> 
            int a = 10;   <br/>
            x = 90 - a;    
            </button></br>
          C) <button class="answer btn_correct"> 
            int a = 100;<br/>
            x = 90 - a; 
            </button></br>

      <div class="wrap-collabsible" >
        <input id="collapsible1" class="toggle" type="checkbox">
        <label for="collapsible1" class="lbl-toggle">Answer</label>
        <div class="collapsible-content">
          <div class="content-inner">
            The correct answer is C). </br>
            The error message is caused because of the assignment of <i>90 - a</i> to <i>x</i> when <i>a</i> has the value <i>100</i>. Since the refinement of <i>x</i> only allowed it to be between 0 and 100, this assignment produces an error. 
          </div>
        </div>
      </div>

    </div>
    </div>
    <!--------------------------------------------------------------------------------------------->
  


  </div>
  <!--------------------------------------------------------------------------------------------->
  <!---- Intro ---->
  <div>
    </br></br>
    <h3 class="title_tutorial">Refinements in Methods</h3>
    </br>
  </div>

  <!---- Row ---->
  <div class="row">
  <div class="col-lg-6 content-photo">
    <p>  It is possible to add refinements to methods' parameters and return value.</p></br>
    <div  id='youtube-player-2' 
          data-video="MOZESsOtUAU"
          data-startseconds="75"
          data-endseconds="125"
          data-height="360"
          data-width="520">
    <!-- <iframe class="responsive-iframe" src="https://www.youtube.com/embed/MOZESsOtUAU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
    </div>
  </div>
  <div class="col-lg-6 content-left mt-lg-0 mt-5 pl-lg-5 q_and_a">
    <h5 class="title_tutorial">Q&A</h5>
    <p>Select what is the assignment that is allowed with the following method refinement, considering the correct assignment of x in the previous question</p>
       <!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #a6e22e">@Refinement</span><span style="color: #f92672">(</span><span style="color: #e6db74">&quot;return &gt;= a &amp;&amp; return &lt;= b&quot;</span><span style="color: #f92672">)</span>
<span style="color: #66d9ef">public</span> <span style="color: #66d9ef">static</span> <span style="color: #66d9ef">int</span> <span style="color: #a6e22e">inRange</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">,</span> <span style="color: #a6e22e">@Refinement</span><span style="color: #f92672">(</span><span style="color: #e6db74">&quot;b &gt; a&quot;</span><span style="color: #f92672">)</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">b</span><span style="color: #f92672">){...}</span>
</pre></div>

        <br/>
        A) <button class="answer btn_wrong"> x = inRange(20, 110); </button>
        B) <button class="answer btn_wrong"> x = inRange(90, 20); </button></br>
        C) <button class="answer btn_correct"> x = inRange(20, 90); </button>

    <div class="wrap-collabsible" >
      <input id="collapsible2" class="toggle" type="checkbox">
      <label for="collapsible2" class="lbl-toggle">Answer</label>
      <div class="collapsible-content">
        <div class="content-inner">
          The correct answer is C). </br>
          Because is the only that has the second value greater than the first and certainly results in a value within the range of <i>x</i>.
        </div>
      </div>
    </div>


  </div>
  </div>
  <!--------------------------------------------------------------------------------------------->

<!--------------------------------------------------------------------------------------------->
  <!---- Intro ---->
  <div>
  </br></br>
  <h3 class="title_tutorial">Refinements in Classes</h3>
  </br>
</div>

<!---- Row ---->
<div class="row">
<div class="col-lg-6 content-photo">
  <p> To model classes one can use refinements that make explicit a state machine.</p></br>
  <div  id='youtube-player-3' 
        data-video="MOZESsOtUAU"
        data-startseconds="125"
        data-endseconds="243"
        data-height="360"
        data-width="520">
  <!-- <iframe class="responsive-iframe" src="https://www.youtube.com/embed/MOZESsOtUAU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
  </div>
</div>
<div class="col-lg-6 content-left mt-lg-0 mt-5 pl-lg-5 q_and_a">
  <h5 class="title_tutorial">Q&A</h5>
  <p>Considering the initialization below, which sequence of invocations would be correct according to the video?</p>
<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #f8f8f2">VendingMachine</span> <span style="color: #f8f8f2">vm</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">VendingMachine</span><span style="color: #f92672">();</span>
</pre></div>
      <br/>
      A) <button class="answer btn_wrong">
        vm.select(4);<br/>
        vm.show();<br/>
        vm.pay();
        </button>
      B) <button class="answer btn_correct"> 
        vm.select(4);<br/>
        vm.pay();<br/>
        vm.show();  </button>
        </button></br>
      C) <button class="answer btn_wrong">
        vm.select(4);<br/>
        vm.pay();<br/>
        vm.select(7);  </button></br>

  <div class="wrap-collabsible" >
    <input id="collapsible3" class="toggle" type="checkbox">
    <label for="collapsible3" class="lbl-toggle">Answer</label>
    <div class="collapsible-content">
      <div class="content-inner">
        The correct answer is B). </br>
        Look through the video again to understand why the two others would not be correct.
      </div>
    </div>
  </div>


</div>
</div>
<!--------------------------------------------------------------------------------------------->  
<br/><br/>
<div class = 'end_tutorial'>
  <h2>End of Tutorial</h2>
  <p>This is the time to ask questions to the interviewers if you had any. </br>
    The next part will ask you to try to understand the error messages that appear in the screen.
  </p>
  <button class="answer" onclick="location.href='liquidjava_study1.html'" type="button">
    Next</button>
</div>



</section>


  
 
 <!-- grids block 5 -->
 <section class="w3l-footer-29-main" id="footer">
  <div class="footer-29 text-center">
      <div class="container">
        
        <div class="main-social-footer-29"> 
          <a href="#facebook" onclick="sendEmail()" class="facebook"><span class="fa fa-envelope-o"></span></a>
          <a href="https://github.com/CatarinaGamboa" class="twitter"><span class="fa fa-github"></span></a>
          <a href="https://www.linkedin.com/in/catarina-ventura-gamboa-518151172/" class="linkedin"><span class="fa fa-linkedin"></span></a>
        </div>
          <div class="bottom-copies text-center">
              <p class="copy-footer-29">© 2020 My Website. All rights reserved | Designed by <a href="https://w3layouts.com">W3layouts</a></p>
               
          </div>
      </div>
  </div>
   <!-- move top -->
  <button onclick="topFunction()" id="movetop" title="Go to top">
              <span class="fa fa-angle-up"></span>
                 </button>
                 <script>
                     // When the user scrolls down 20px from the top of the document, show the button
                     window.onscroll = function () {
                         scrollFunction()
                     };
              
                     function scrollFunction() {
                         if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                             document.getElementById("movetop").style.display = "block";
                         } else {
                             document.getElementById("movetop").style.display = "none";
                         }
                     }
              
                     // When the user clicks on the button, scroll to the top of the document
                     function topFunction() {
                         document.body.scrollTop = 0;
                         document.documentElement.scrollTop = 0;
                     }
                 </script>
                 <!-- /move top -->
</section>
<!-- // grids block 5 -->
<script src="assets/js/jquery-3.3.1.min.js"></script>
<!-- //footer-28 block -->
</section>

<script>
    $(function () {
      $('.navbar-toggler').click(function () {
        $('body').toggleClass('noscroll');
      })
    });
  </script> 
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
    integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous">
  </script>
  
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous">
  </script>

<!-- Smooth scrolling -->



</body>

</html>
<!-- // grids block 5 -->

